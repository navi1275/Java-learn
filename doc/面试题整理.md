# 1. 字节跳动

## 1.1 第一面

### 1.1.1 TCP相关基础知识

1. 问题1: 请详细描述三次握手和四次挥手的过程

   要求熟悉三次握手和四次挥手的机制，要求画出状态图。

2. 问题2: 四次挥手中TIME_WAIT状态存在的目的是什么?

   这个问题是画出四次挥手状态图，会引申问你。不排除还会问为什么四次挥手是四次不是二次等问题。最好是把相关问题均掌握。

3. 问题3: TCP是通过什么机制保障可靠性的?

   从四个方面进行回答，ACK确认机制、超时重传、滑动窗口以及流量控制，深入的话要求详细讲出流量控制的机制。

### 1.1.2 语言的相关基础知识

字节跳动的技术栈是Go和Python，会问一下相关语言的基础。

1. 问题1: 描述线程、进程以及协程的区别? 描述线程、进程以及协程的定义和区别，顺便描述Python语言中三者的使用。
2. 问题2: GO语言中的协程与Python中的协程的区别? 主要讲解Go中GMP机制。

### 1.1.3 网络编程相关基础

1. 问题1: 网络IO模型有哪些?

   5种网络I/O模型，阻塞、非阻塞、I/O多路复用、信号驱动IO、异步I/O。从数据从I/O设备到内核态，内核态到进程用户态分别描述这5种的区别。

2. 问题2: I/O多路复用中select/poll/epoll的区别？

   从select的机制，以及select的三个缺点，讲解epoll机制，以及epoll是如何解决select的三个缺点的。还会讲到epoll中水平触发和边沿触发的区别。

### 1.1.4 HTTP相关基础

1. 问题1: 客户端访问url到服务器，整个过程会经历哪些？

   从七层网络模型，HTTP->TCP->IP->链路整个过程讲解报文的产生以及传递的过程

2. 问题2: 描述HTTPS和HTTP的区别

   从端口的区别，以及HTTPS是在SSL的基础上以及加密等方面说明

3. 问题3: HTTP协议的请求报文和响应报文格式

   要非常清楚请求报文和响应报文的组成部分，要求在写具体案例。

4. 问题4: HTTP的状态码有哪些?

   从2xx,3xx,4xx,5xx分别举例出常见的code，面试官会问301和302的区别，以及500/503/504分别在哪些场景出现。

### 1.1.5 缓存和数据库的基础知识

1. 问题1: 描述一下redis有哪些数据结构。

   基础的数据结构有5种，String/List/Hash/Set/Zset，还答了高级数据结构HyperLogLog/BitMap/BloomFilter/GeoHash。面试官还问了BloomFilter的原理以及Zset的实现原理，主要讲解跳跃表。

2. 问题2: MySQL场景题目

   面试官提供场景，要求写出查询SQL，考察联合语句，如何分页以及复杂语句的优化。

### 1.1.6 裸写算法

1. 树的非递归先序遍历。

## 1.2. 第二面

### 1.2.1 项目经验

第二面跟个人项目经验很大，面试官会要求先详细介绍最近的项目，介绍项目的同时会打断你，延伸项目的难度和架构，要求提出更优的解决方案。 之前项目经验里写了一个分布式的项目，面试官着重讨论了这个项目的实现方案，引申出分布式事务以及分布式一致性等问题，同时会要求在当前项目的基础上附加条件，要求你提供解决方案，这部分比较难，要求对项目的深度理解很透彻，面试前一定要对项目了解非常清楚，如果是多人合作的项目，最好也要了解别人编写的功能部分。 还问了一些API业务的架构问题，负载均衡、CDN、DNS等问题。以及也问到了HTTP相关问题，要求描述HTTP的版本之间的区别，主要是1.0/1.1/2.0三个版本的区别。详细说了1.0与1.1之间是连接模型的区别(短连接、长连接、管线化)，1.1与2.0之间的区别是I/O多路复用的单一长连接、服务器推送、二进制分桢、首部压缩等。

### 1.2.2 裸写算法

1. 回行矩阵遍历

## 1.3. 第三面:

### 1.3.1 项目经验

第三面也是考察项目经验，但是着重系统设计，会抽一段之前的项目经验(跟第二面的经验肯定不同)，要求你描述目前的方案，以及缺点。温馨提示，一定要简历上的项目经验非常熟悉，会抽上一段工作经验的项目。 要求说出缺点，这个一个坑，说出来后要求提出改进方案，所以回答要谨慎，最好面试前对目前的项目假设附加条件，提出2-3种备选方案。 要求模块化，会要求对目前系统如果做微服务架构，如何进行服务的拆分，拆分的规则是什么，考察微服务架构相关知识，服务治理（限流、降级、熔断）。 举例: 之前项目中由涉及到社交场景中热度池的设计，要求讲出现有方案和缺点，然后说出优化方案，还会将目前的量级扩大很多倍，要求重新架构出方案。还有讲到粉丝关系，推拉组合，也就是读扩散和写扩散二者的区别，以及二者如何结合。

### 1.3.2 裸写算法

1. 二叉树多个节点的最近公共祖先

## 1.4. 总结

三面技术面之后，就是HR，这个就不多说了。整体字节跳动的面试感受，面试官很专业，要求基础知识很熟悉，面试之前一定要准备后再去面试。LeetCode题目也要刷。手写算法留的时间不多，3-10分钟，如果3分钟还没写，就要求讲出解题思路。

切记面试前一定要刷题和准备，简历上的项目不熟悉的千万不要写上去，写上去的项目备好2-3个技术方案。

# 2. 腾讯

腾讯面试流程较多，加上笔试一共有8轮，6轮技术+1轮HR+1轮笔试

## 2.1 第一面

第一面是电话面试，主要考察项目，通过项目提出基础问题。时间30分钟。

1. 之前有微服务经验，面试官就详细问到微服务的架构、框架的实现、服务治理、分布式一致性等问题。
2. 之前有玩过日志监控系统，首先还是考察架构，ELK的相关知识，重点描述Elasticsearch的一些架构原理，比如倒排索引的原理。
3. 问消息队列的相关知识，接触过Kafka，问了Kafka中消息可以被多个消费者消费吗？；以及选举机制和HW机制。
4. 开放性问题，讲一个之前遇到的问题，并如何解决的。这个描述生产过程中运行的问题，并描述排查问题。
5. 数据库和Redis相关问题，数据库考察索引的原理以及几种事务的区别。Redis问数据结构，延时队列如何实现，分布式锁原理。

## 2.2 第二面 笔试

现场面试，考察具体岗位的技术栈语言的基础知识，题目不难，要求基础扎实和广度。

## 2.3 第三面、第四面

第三面和第四面是组长和总监面试，聊解题思路和项目，这二面的特点是根据项目经验问相关的问题，要求广度，尤其考察架构广度，会将目前的项目量级扩大几十倍，重新设计架构，同时涉及到一些压力面试。 感觉如果不紧张，熟悉项目的话，问题不大。 会有很多开放性题目，包括平时遇到问题的解题思路、同事之间的协作等。 被问到的知识点有负载均衡算法，ngnix如何做限流，四层LVS和七层Ngnix的区别，以及微服务架构的设计思路。 面试时间均在20-30分钟。

## 2.4 第五面、第六面 技术委员会面试

第五面和第六面是面委，技术面试，难度非常大。 考察系统设计和架构设计。要求知识的深度理解

1. 主要是系统设计，问了秒杀系统的如何设计，分接入层、接口层、消息队列层、逻辑层四个方面讲解，接入层可以做服务治理相关事情，接口层做抢购开关、黑白名单、随机拒绝等处理，逻辑层具体抢购逻辑实现，涉及到redis分布式锁以及DB和Redis的一致性问题。
2. 从秒杀系统还引申出分布式事务的几种实现，二段式、三段式、补偿型(TCC)、基于可靠消息服务的消息队列实现。重点讨论了这几种的实现和区别，要求画出基于可靠消息服务的消息队列实现分布式事务的架构图，以及上游服务和下游服务如何保证消息可靠性和一致性。
3. 考察微服务架构，服务拆分的原则、RPC框架原理、配置管理(etcd)的一致性协议raft选举原理。
4. 考察服务治理，服务限流算法，服务降级的指标和恢复指标，服务熔断。
5. 开放性问题，遇到印象最深的问题，以及如何解决的。